---
layout: post
title: "如何更规范化使用 MySQL"
subtitle: "Dreamers among programmers"
author: "zhuJianJian"
header-img: "img/post-bg-dreamer.jpg"
header-mask: 0.4
tags:
  - mySql
---

## 背景
一个平台或系统随着时间的推移和用户量的增多，数据库操作往往会变慢；而在Java应用开发中数据库更是尤为重要，绝大多数情况下数据库的性能决定了程序的性能，如若前期埋下的坑越多到后期数据库就会成为整个系统的瓶颈；因此，更规范化的使用MySQL在开发中是不可或缺的。

## 一、MySQL数据库命名规范
1、数据库所有表前缀均使用项目名称首字母缩写；

2、数据库所有对象名称均使用小写字母，并且单词之间通过下划线分开；

3、数据库所有对象名称禁止使用MySQL保留字及关键字，涉及到关键字的SQL查询需要将关键字用单引号括起来；

4、数据库所有对象名称不超过32个字符，并且命名要遵循见名知意原则；

5、数据库临时表必须以 pro_tmp_ 为前缀并且以日期 20190917 为后缀，备份表必须以 pro_bac 为前缀并以时间戳为后缀；(pro为项目名称首字母缩写)

6、数据库所有存储相同数据的列名和列类型必须保持一致。

##二、MySQL数据库基本设计规范

1、若无特殊说明，建表时一律采用Innodb存储引擎。

选择合适的引擎可以提高数据库性能，如InnoDB和MyISAM，InnoDB和MyISAM是许多人在使用MySQL时最常用的两个表类型，这两个表类型各有优劣，视具体应用而定；

基本的差别为：MyISAM类型不支持事务处理等高级处理，而InnoDB类型支持；MyISAM类型的表强调的是性能，其执行数度比InnoDB类型更快，但是不提供事务支持，而InnoDB提供事务支持以及外部键等高级数据库功能；

因此，其支持事务处理、支持外键、支持崩溃修复能力和并发控制是我们建表时首选的存储引擎。

2、数据库和表的字符集统一使用UTF8

数据库和表的字符集统一使用utf8，若是有字段需要存储emoji表情之类的，则将表或字段设置成utf8mb4；因为，utf8号称万国码，其无需转码、无乱码风险且节省空间，而utf8mb4又向下兼容utf8。

3、设计数据库时所有表和字段必须添加注释

使用Comment从句添加表和列的备注，或直接在数据库连接工具的注释栏添加注释，从项目开始就进行数据字典的维护。

所以这大概就是见证/参与这些 idea 成长的代价吧，也意识到这些东西不是在刚开始就像后来大家接受流行时那么美好的。React 发布 5 周年生日时回放 Jordan/Tom 2013 年第一次对外发布 React/JSX 的视频。我问 Jordan 说你后来怎么没再去分享了。他说你不知道我那天讲完下来被所有听众指着批评。React 第一次在内部使用是 2011 年在 news feed，然后是 2012 年 instagram (pete hunt)，所以这个时间其实很长很长。

很多人（包括我）都会经常觉得 XYZ 新事物跟老东西比太新、太不成熟、体验太不好、想要解决的问题太多、解决方案太 overkill、然后就没有然后了，但其实说不定你在看的这个就是 next big thing 呢。这些梦想家们 vision 里的 big picture 太大了，有的人可能在半个 picture 出来的时候就可以看出来了，有的人则可能要等到整个 picture 都快填满了才看得出来。

如果不是因为 Ads/Messenger 的坑深 React/Reason/Flux 也就不会在这里诞生了，

如果不是因为 Facebook 的坑深 GraphQL/Infer/Hack/Flow/Buck 也就不会在这里诞生了。

正是有一群开垦者不怕坑深才使得各种 idea 成为了大家手上好用的 tool 啊。

梦想家程序员们的工作价值于实干主义的程序员，总是很容易在过程中被低估、忽视，或是得不到尊重。而又在流行之后被神化，仿佛是那个人早已洞察一切一样。其实梦想家的工作，也是一点点累加，一点点迭代起来的。他们也需要伯乐和追随者的支持和帮助。

Chenglou 这个人总是在巨兴奋与巨沮丧之间切换，这段时间下来，我开始能感受这种情绪的来源了。

他总是用一句话来总结他回答我的吐槽、抱怨、疑问、惊叹，我就用这句话来结尾好了：

**"Welcome to the producer side!"**
